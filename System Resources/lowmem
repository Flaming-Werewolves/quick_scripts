clear;echo;date;echo; free -m | egrep '(Mem|-)' | tr -d '\n' | awk 'BEGIN {FS=" "}{printf "\nAvail\tActive\tTotal\tPercent Avail\n%sMB\t%sMB\t%sMB\t%s\n\n",$10,$9,$2,($10/$2)*100}';echo;echo "Top 10 Processes by MEM %";echo;ps -eo user,%cpu,%mem,rsz,args|sort -rnk4|awk 'BEGIN {printf "%8s\t%6s\t%6s\t%8s\t%s\n","USER","%CPU","%MEM","RSZ","COMMAND"}{printf "%8s\t%6s\t%6s\t%8s MB\t%-12s\n",$1,$2,$3,$4/1024,$5}'|head -n10; echo ""; echo "== Last 90 Minutes ==";echo; sar -r|head -n3; sar -r|tail -n10;echo; sar -B|head -n3; sar -B|tail -n10;echo
